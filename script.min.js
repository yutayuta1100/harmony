let resizeTimer,isScrolling=!1;function initLoader(){window.addEventListener("load",function(){setTimeout(()=>{const e=document.getElementById("loading");e&&(e.classList.add("hidden"),setTimeout(()=>{e.style.display="none"},500))},500)})}function initHeader(){const e=document.querySelector(".header"),t=document.querySelectorAll(".nav-link");let n=0;window.addEventListener("scroll",function(){const o=window.pageYOffset;o>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),e.style.transform=o>n&&o>200?"translateY(-100%)":"translateY(0)",n=o,function(){const e=document.querySelectorAll("section[id]"),n=window.pageYOffset;e.forEach(e=>{const o=e.offsetHeight,i=e.offsetTop-100,s=e.getAttribute("id");n>i&&n<=i+o&&t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${s}`&&e.classList.add("active")})})}()})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);if(n){const e=n.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"});const t=document.getElementById("navMenu"),o=document.getElementById("menuToggle");t.classList.contains("active")&&(t.classList.remove("active"),o.classList.remove("active"))}})})}function initMobileMenu(){const e=document.getElementById("menuToggle"),t=document.getElementById("navMenu");e.addEventListener("click",function(){this.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")?document.body.style.overflow="hidden":document.body.style.overflow=""}),document.addEventListener("click",function(n){t.contains(n.target)||e.contains(n.target)||(t.classList.remove("active"),e.classList.remove("active"),document.body.style.overflow="")})}function initScrollTop(){const e=document.getElementById("scrollTop");window.addEventListener("scroll",function(){window.pageYOffset>300?e.classList.add("visible"):e.classList.remove("visible")}),e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}function initAnimations(){const e=new IntersectionObserver(function(t){t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animated"),"true"===t.target.dataset.animateOnce&&e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".feature-card, .menu-card, .side-menu-item, .special-card, .info-item").forEach((t,n)=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",t.style.transitionDelay=.1*n+"s",t.dataset.animateOnce="true",e.observe(t)});const t=document.createElement("style");t.textContent="\n        .animated {\n            opacity: 1 !important;\n            transform: translateY(0) !important;\n        }\n        \n        @keyframes slideInLeft {\n            from {\n                opacity: 0;\n                transform: translateX(-30px);\n            }\n            to {\n                opacity: 1;\n                transform: translateX(0);\n            }\n        }\n        \n        @keyframes slideInRight {\n            from {\n                opacity: 0;\n                transform: translateX(30px);\n            }\n            to {\n                opacity: 1;\n                transform: translateX(0);\n            }\n        }\n        \n        @keyframes zoomIn {\n            from {\n                opacity: 0;\n                transform: scale(0.9);\n            }\n            to {\n                opacity: 1;\n                transform: scale(1);\n            }\n        }\n    ",document.head.appendChild(t),window.innerWidth>768&&initParallax()}function initSlideshow(){const e=document.querySelectorAll(".hero-slideshow .slide");if(0===e.length)return;let t=0;setInterval(function(){e[t].classList.remove("active"),t=(t+1)%e.length,e[t].classList.add("active")},5e3)}function initParallax(){document.querySelector(".hero");const e=document.querySelector(".hero-overlay");window.addEventListener("scroll",function(){isScrolling||(isScrolling=!0,requestAnimationFrame(function(){const t=-.3*window.pageYOffset;e&&(e.style.transform=`translateY(${t}px)`),isScrolling=!1}))})}function debounce(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...o)},t)}}function throttle(e,t){let n;return function(){const o=arguments,i=this;n||(e.apply(i,o),n=!0,setTimeout(()=>n=!1,t))}}if(document.addEventListener("DOMContentLoaded",function(){initLoader(),initHeader(),initSmoothScroll(),initScrollTop(),initAnimations(),initMobileMenu(),initSlideshow()}),window.addEventListener("resize",function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){if(window.innerWidth>768){const e=document.getElementById("navMenu"),t=document.getElementById("menuToggle");e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow=""}window.innerWidth>768&&!document.querySelector(".parallax-initialized")&&initParallax()},250)}),"IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n))}})});document.querySelectorAll("img[data-src]").forEach(t=>e.observe(t))}function initFormHandling(){document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",function(t){t.preventDefault(),console.log("Form submitted"),alert("お問い合わせありがとうございます。後日ご連絡させていただきます。"),e.reset()})})}console.log("%cハーモニー本郷三丁目 Website","color: #2E7D32; font-size: 20px; font-weight: bold;"),console.log("%cWelcome to Harmony Hongo-Sanchome!","color: #FF6B35; font-size: 14px;");